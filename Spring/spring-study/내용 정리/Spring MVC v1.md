HTTP
 - 서버와 클라이언트는 모두 HTTP 프로토콜을 기반으로 전송을 한다.
웹 서버
 - HTTP를 기반으로 동작하는 서버
 - 정적리소스 제공 및 기타 부가기능 수행
 - Ex. NGNX, APACHE
웹 어플리케이션 서버 (WAS)
 - HTTP 기반으로 동작
 - 웹서버 기능 포함
 - 프로그램 코드를 실행하여 애플리케이션 실행 가능
 - Ex. 동적 HTML , HTTP API등 실행, 스프링 MVC등 실행
 - EX. Tomcat, Jetty...

WAS vs webserver
 - WAS는 애플리케이션 코드를 실행하는데 특화가 되어있다.

단일 WAS
 - 너무 많은 역할들을 담당하게 되므로 과부하가 걸리게됨

웹 시스템 구성
 - Client > Web Server > WAS > DB
 - WAS는 애플리케이션 로직에 관한 항목만 처리를 할 수있고, Web Server는 정적인 데이터만 관리하여 업무를 분산할 수있다.
 - 효율적인 리소스 관리도 가능하다.
   - 정적인 리소스 많이 사용되는경우 Web Server 증설, Application 리소스가 많이 사용되는경우 WAS증설..
 - Web Server에 비해 WAS와 DB가 더 부하가 많기 떄문에 장애가 더 많이일어난다. 이럴경우에 Web Server에서 WAS or DB의 장애 여부를 Client에게 전달가능

서블릿
 - 의미있는 비지니스 로직만 사용자가 개발을 하고, HTTP 전처리/후처리를 대신 수행해줌.
 - 사용법 : HttpServlet 상속후 service만 오버라이딩 하면됨
 - Parameter : HttpserverletRequset / Response (전처리 후처리 담당 객체)
실행 순서
 1. client에서 요청이 들어옴
 2. 요청을 바탕으로 request / response 객체를 생성
 3. 객체를 서블릿컨테이너에 전달 후 서블릿 객체 호출
 4. 응답메시지를 설정하여 웹브라우저에 전달

서블릿 컨테이너
 - 서블릿 사용시 서블릿을 사용자가 직접 생성하지 않고, 상속만 받으면됨(서블릿 객체를 자동으로 생성 및 호출)
 - WAS On/Off시 서블릿의 생명주기도 관리함
 - 톰캣과 같이 `서블릿을 지원하는 WAS`를 서블릿 컨테이너라고 한다.
 - 서블릿 객체는 싱글톤으로 관리함
 - JSP도 서블릿으로 변환되어서 하용한다.
 - 멀티 쓰레드 처리 지원(수많은 클라이언트의 요청 처리)

멀티 스레드
 - 클라이언트 요청시 서버에서는 TCP/IP 커넥션 연결이 되고, 서블릿을 호출해줌(호출하는 주체는 쓰레드임)
 - 요청이 올때마다 스레드를 생성하고 종료시 소멸시킴
 - 스레드 풀을 생성시켜두고, 스레드풀로 스레드를 관리한다.(스레드풀 이상의 요청이오면 해당 클라이언트는 대기를 해야한다.)

스레드 풀의 적정숫자?
 - 로직의 복잡도, CPU, 메모리, IO리소스 상황에 ㄷ라 모두 다르
 - 성능 테스트가 필요함(아파치 ab / nGrinder등 툴사용)